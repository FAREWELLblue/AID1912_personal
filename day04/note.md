# 网络编程基础
计算机网络功能主要包括实现资源共享，实现数据信息的快速传递
## OSI七层模型
> 制定组织：ISO（国际标准化组织）

> 作用：使用网络通信工作流程标准化

> 应用层：提供用户服务，具体功能有应用程序实现
> 表示层：数据的压缩优化加密
> 会话层：建立用户级的链接，选择适当的传输服务
> 传输层：提供传输服务
> 网络层：路由选择，网络互联
> 链路层：进行数据交换，控制具体数据的发送
> 物理层：提供数据传输的硬件保证，网卡接口，传输介质

> 优点
>
>   1.建立了统一的工作流程
>   2.分部清晰，各司其职，每个步骤分工明确
>   3.降低了各个模块之间的耦合度，便于开发


# 四层模型（TCP/IP模型）
> 应用层
>> 应用层 表示层 会话层
>
> 传输层
> 网际层
> 网络接口
>> 数据链路层 物理层
# 面向链接的传输服务（基于TCP 协议的数据传输）
1. 传输特征：可靠，无丢失，无失序，无差错，无重复
2. 实现手段：在通信前需要建立数据连接，通信结束要正常断开链
三次握手（建立链接）
    >   客户端向服务器发送消息报文请求连接
    >   服务器收到请求后，回复报文确定可以连接
    >   客户端收到回复后，发送最终报文连接建立

四次挥手（断开连接）
# 面试题
1.  口述七层模型
2.  TCP和UDP的区别
3.  三次握手和四次挥手指什么，过程怎样


## socket套接字编程
1. 套接字：实现网络编程进程数据传输的一种技术手段
2. Python实现套接字变成：import socket
3. 套接字分类：
    流式套接字（SOCK_STREAM）：以字节流方式传输数据，实现TCP网络传输方案（面向连接--TCP协议--可靠的--流式套接字）
    数据报套接字（SOCK_DGRAM）：以数据报形式传输数据，实现UDP网络传输方案（无连接--UDP协议--不可靠--数据报套接字）
流式套接字流程
> socket--bind--listen--accept--send/recv--close
##服务端：运行在服务器上
> 有电话了--绑定地址--充值（使套接字具备被客户端连接的功能）--待机（等待客户端的连接）--打电话（收发消息）--把电话摔了

创建套接字
sockfd=socket.socket(socket_family=socket.AF_INET,socket_type=SOCK_STREAM,proto=0)
> socket_family:AF_INET表示网址类型是ipv4，AF_INET6表示ipv6
> socket_type:套接字类型SOCK_STREAM流式，SOCK_DGRAM(数据报)
> proto:通常为0 选择子协议，不是为应用层准备的
> 返回值：返回套接字对象

绑定地址
sockfd.bind((0.0.0.0,8888))
> 绑定本机网络地址
> 参数：二元元组(ip,port),第一项是ip地址，第二项是端口号，1000-65535
>   ip地址：127.0.0.1用于测试程序  或者自己的ip地址，用于局域网ip     0.0.0.0别人的客户端可以通过ip地址访问你，

建立监听套接字
sockfd.listen(n)
> 将套接字设置为监听套接字，确定监听队列大小
> 参数：监听队列大小
> 监听套接字可以连接多个客户端，但是每个客户端要一个一个的连接
> 队列越长，内存中消耗空间越大。linux中，参数是摆设

等待处理客户端连接请求
connfd,addr=sockfd.accept()
> 功能：阻塞等待处理客户端请求
> 返回值： connfd 客户端连接套接字
>         addr  连接的客户端地址

消息收发：
data=connfd.recv(buffersize)
> 功能：接受客户端消息
> 参数：每次最多接受消息的大小，单位字节
> 返回值：接收到的内容

n=connfd.send(data)
> 功能：发送消息
> 参数：要发送的内容，bytes格式
> 返回值：发送的字节数

关闭套接字：
sockfd.close()

## 客户端套接字
> socket--connect--send/recv--close
> 客户端和服务端要使用相同套接字
> connect用于连接服务端

sockfd.connect(server_addr)
> 功能：连接服务器
> 参数:元组 服务器地址

收发消息：为防止两端都阻塞，recv和send要配合

# 作业
上传头像  将一个图片从客户端发送给服务端
思路：客户端 读取头像图片内容 --》通过网络发送给服务端
     服务端 先从网络中接收内容--》写入到服务端的文件
     
   >*熟悉网络函数和流程